import { useMemo, useState } from 'react'import { Card, CardHeader, CardTitle, CardContent } from '../components/ui/card'import { Input } from '../components/ui/input'import { Select, SelectTrigger, SelectContent, SelectItem, SelectValue } from '../components/ui/select'import { evaluateNapfa, findRows, getAgeGroup, normalizeSex, secondsToMmss } from '../utils/napfaStandards'function calcAgeAt(dobISO, when = new Date()) {  if (!dobISO) return null  try {    const birth = new Date(dobISO)    const d = when instanceof Date ? when : new Date(when)    let age = d.getFullYear() - birth.getFullYear()    const m = d.getMonth() - birth.getMonth()    if (m < 0 || (m === 0 && d.getDate() < birth.getDate())) age--    return age  } catch { return null }}function onlyInt(val) { return (val || '').toString().replace(/[^0-9]/g, '') }function oneDecimal(val) {